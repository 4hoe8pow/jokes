---
layout: ../../layouts/ProjectLayout.astro
title: 🚂　FX Haulage
description: Houdini to AE 変換プラグイン 設計
tags: ["C++", "Houdini", "AE"]
githubUrl: https://github.com/4hoe8pow/fx_haulage
timestamp: 2025-09-23T11:26:00+00:00
featured: false
filename: fx_haulage
---

FX_HAULAGEは、Houdiniのカメラやロケーターノードを「運ぶ」ことをコンセプトにした直コンポ出力ツールです。

---

## 1. 概要

| 項目 | 内容 |
|------|------|
| ツール名 | FX_HAULAGE |
| 目的 | Houdiniのカメラ/Null情報をAfter Effectsに直コンポ反映 |
| AE側操作 | 不要（jsx実行無し） |
| 対象ノード | カメラ、Null（Locator） |
| 配布 | Orbolt による HDA 配布 |
| 特徴 | ワンクリック操作、スイッチャー対応、純 HDA 完結 |

---

## 2. ボタン構成

| ボタン | 役割 | UX |
|--------|------|------------|
| **Connect AE** | AE起動確認・接続テスト | AE未起動時の警告表示、接続状態をHDA内に視覚化 |
| **Export AE** | 選択カメラ/NullをAEに直コンポ反映 | jsx実行無しでワンクリック出力 |

---

## 3. 必須機能

### 3.1 基本出力

| ノード | 出力項目 | 補足 |
|--------|----------|------|
| **カメラ** | 位置、回転（Euler）、FOV → AE Zoom変換 | |
| | Focus Distance | 被写界深度対応 |
| | Aperture / Lens Width | 実写合成用 |
| | スイッチャー対応 | アクティブカメラをデフォルト選択 |
| | FPS自動取得 | HoudiniシーンとAEを同期 |
| **Null / Locator** | 位置、回転、スケール、Opacity | 2D/3D追従用 |
| | Extra 2D Layer生成 | テキストやエフェクトの追従を容易にする |

### 3.2 オプション

| オプション | 説明 | 備考 |
|------------|------|------|
| フレームレンジ | 開始/終了フレームを指定可能 | デフォルトはHoudiniタイムレンジ全体 |
| カメラ/Null選択 | エクスポート対象を指定 | 同時選択可能 |
| Uniform Scale補正 | AE座標系に合わせて位置・スケールを補正 | 標準推奨値あり |
| AEコンポ名 | 自動生成または任意指定 | ショット単位で整理 |
| レイヤー名プレフィックス | AEレイヤー名に付与 | 衝突防止・整理用 |

### 3.3 直コンポ反映

| 機能 | 説明 |
|------|------|
| JSX生成不要 | AE側で直接コンポ・レイヤー生成 |
| フォルダ整理/構造自動生成 | Houdiniシーン名をベースにAE内で階層整理 |
| エラーログ表示 | 接続失敗・出力失敗の詳細表示 |

---

## 4. ロードマップ

| カテゴリ | 機能 | 効果 |
|----------|------|------|
| 親子階層 | Houdiniの親子構造をAEで再現 | 複雑なリグやセットアップ対応 |
| 複数カメラ | カメラリグ・複数カメラセット対応 | スイッチャー運用に便利 |
| AEエクスプレッション | Houdiniのアトリビュートや式をAEに変換 | キーフレーム制御・アニメ調整支援 |
| 3D空間可視化 | グリッド、軸、カメラFrustum表示 | AEでの空間把握が容易に |
| マッチムーブ補助 | トラッキング情報のAE反映 | フッテージ合成作業効率化 |
| プロジェクト整理 | 複数ショット・コンポ整理、自動命名 | 管理工数削減 |

---

## 5. 内部処理フローの概要

| ステップ | 内容 |
|-----------|------|
| 1. Connect AE | AE起動確認、バージョン/プロジェクト取得、状態をHDAに表示 |
| 2. Export AE | 1. 選択カメラ/Null取得<br>2. 座標系変換・スケール補正<br>3. フレームレンジ/FPS取得<br>4. JSX生成・AEに送信（カメラ/Null出力）<br>5. 出力ログ表示 |

---

## 6. UXフロー

| 手順 | 操作 |
|------|------|
| 1 | Houdiniでシーン作成 |
| 2 | FX_HAULAGE HDA選択、オプション確認 |
| 3 | **Connect AE**で接続確認 |
| 4 | **Export AE**で直コンポ生成 |

---

## 7. 差別化ポイント

- Houdini→AEの直コンポ化により、JSX生成ステップを省略
- スイッチャー対応カメラ・Null出力の自動化
- UIはワンクリック運用に最適化、現場作業を効率化  
